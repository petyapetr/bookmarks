{% extends "base.html" %}
{% block title %}{{ name }} â€” Bookmarks App{% endblock %}
{% block all %}{{ count.all }}{% endblock %}
{% block unread %}{{ count.unread }}{% endblock %}
{% block random %}{{ random }}{% endblock %}
{% block content %}
	<section class="mb-4">
		<div class="mt-2 mb-4 flex flex-wrap items-center justify-between gap-4">
			<h2
				class="text-xl font-bold text-black underline-offset-1 hover:underline">
				<a href="{{ url }}?ref={{ id }}">{{ name }}</a>
			</h2>
			{% if not read_in_year %}
				<form action="/bookmarks/{{ id }}/mark-read" method="post">
					<button
						type="submit"
						class="border border-gray-800 px-2 py-1 text-xs font-semibold text-black hover:bg-gray-100">
						Mark Read
					</button>
				</form>
			{% endif %}
		</div>

		{% if tags %}
			<div class="flex flex-wrap gap-2">
				{% for tag in tags %}
					<a
						href="/bookmarks?tags={{ tag }}"
						class="border border-gray-800 px-2 py-1 text-xs text-black underline-offset-1 hover:underline"
						>{{ tag }}</a
					>
				{% endfor %}
			</div>
		{% endif %}

		<hr class="my-6 border-double border-gray-800" />

		<form action="/bookmarks/{{ id }}" method="post" class="space-y-4">
			<label class="block text-xs font-semibold text-gray-600"
				>Title
				<input
					type="text"
					name="name"
					value="{{ name }}"
					class="w-full border-b border-gray-800 bg-transparent p-2 text-sm text-gray-700" />
			</label>

			<label class="block text-xs font-semibold text-gray-600"
				>URL
				<input
					type="text"
					name="url"
					value="{{ url }}"
					class="w-full border-b border-gray-800 bg-transparent p-2 text-sm text-gray-700" />
			</label>

			<label class="block text-xs font-semibold text-gray-600"
				>Note
				<textarea
					name="note"
					rows="10"
					class="w-full border-b border-gray-800 bg-transparent p-2 text-sm text-gray-700">
{{ note }}</textarea
				>
			</label>

			<div class="flex gap-4 pt-2">
				<label class="block flex-1 text-xs font-semibold text-gray-600"
					>Month
					<input
						type="number"
						name="read_in_month"
						value="{{ read_in_month or "" }}"
						min="1"
						max="12"
						placeholder="1-12"
						class="w-full border-b border-gray-800 bg-transparent p-2 text-sm text-gray-700" />
				</label>
				<label class="block flex-1 text-xs font-semibold text-gray-600"
					>Year
					<input
						type="number"
						name="read_in_year"
						value="{{ read_in_year or "2025" }}"
						min="1970"
						max="2125"
						placeholder="2025"
						class="w-full border-b border-gray-800 bg-transparent p-2 text-sm text-gray-700" />
				</label>
			</div>

			<div class="flex gap-2 pt-4">
				<button
					type="submit"
					class="border border-gray-800 px-4 py-2 text-sm font-semibold text-black hover:bg-gray-100">
					Save
				</button>
				<button
					type="button"
					class="border border-gray-800 px-4 py-2 text-sm font-semibold text-black hover:bg-gray-100">
					Delete
				</button>
			</div>
		</form>
	</section>
{% endblock %}
